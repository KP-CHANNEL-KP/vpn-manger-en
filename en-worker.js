/**
 * Cloudflare Worker: Pure Link Cloaking for setup script download.
 */

// ----------------------------------------------------------------------
// ğŸ”— SETUP Script á€¡á€á€½á€€á€º URL (Cloaking á€œá€¯á€•á€ºá€™á€šá€·á€º link á€á€…á€ºá€á€¯á€á€Šá€ºá€¸á€á€¬)
const TARGET_SETUP_URL = "https://raw.githubusercontent.com/KP-CHANNEL-KP/KP-VPN-MANGER/main/setup.sh"; 
// ----------------------------------------------------------------------

export default {
    async fetch(request) { 
        const url = new URL(request.url);
        
        // ======================================================================
        // 1. Link Cloaking Logic (Setup Script Download á€¡á€á€½á€€á€º)
        // ======================================================================
        if (url.pathname === '/go/vpn-setup') {
            
            // TARGET_SETUP_URL á€™á€¾ content á€€á€­á€¯ á€á€­á€¯á€€á€ºá€›á€­á€¯á€€á€º fetch á€œá€¯á€•á€ºá€•á€¼á€®á€¸ á€•á€¼á€”á€ºá€•á€­á€¯á€·á€á€Šá€ºá‹
            // áá€„á€ºá€¸á€á€Šá€º URL á€€á€­á€¯ á€–á€¯á€¶á€¸á€€á€½á€šá€ºá€•á€±á€¸á€•á€¼á€®á€¸ wget command á€€á€­á€¯ á€¡á€±á€¬á€„á€ºá€™á€¼á€„á€ºá€…á€±á€á€Šá€ºá‹
            return fetch(TARGET_SETUP_URL);
        }
        // ======================================================================

        // á€á€á€¼á€¬á€¸ á€œá€™á€ºá€¸á€€á€¼á€±á€¬á€„á€ºá€¸á€™á€»á€¬á€¸ á€›á€±á€¬á€€á€ºá€œá€¬á€•á€«á€€ Not Found á€•á€¼á€”á€ºá€•á€±á€¸á€á€Šá€ºá‹
        return new Response('Link Not Found.', { status: 404 });
    }
};

// ** á€™á€¾á€á€ºá€á€»á€€á€º: License Key á€…á€…á€ºá€†á€±á€¸á€á€¼á€„á€ºá€¸áŠ IP Locking á€”á€¾á€„á€·á€º Target Script á€™á€»á€¬á€¸á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯ á€–á€šá€ºá€›á€¾á€¬á€¸á€•á€¼á€®á€¸á€–á€¼á€…á€ºá€á€Šá€ºá‹ **
